all:
  hosts:
    node1:
      name: node1
      ansible_host: "{{ node1_ip }}"
      ansible_port: 22
      ansible_user: "{{ node1_user }}"
      ansible_become_pass: "{{ vm1_sudo_password }}" # Set this variable inside secrets.yml using ansible-vault
      ansible_ssh_private_key_file: "{{ ssh_private_key_path }}"
      ansible_ssh_common_args: >-
        -o UserKnownHostsFile=/dev/null
        -o StrictHostKeyChecking=no
      vars:
        storage_network_ip: 10.255.255.10
    node2:
      name: node2
      ansible_host: "{{ node2_ip }}"
      ansible_port: 22
      ansible_user: "{{ node2_user }}"
      ansible_become_pass: "{{ vm2_sudo_password }}" # Set this variable inside secrets.yml using ansible-vault
      ansible_ssh_private_key_file: "{{ ssh_private_key_path }}"
      ansible_ssh_common_args: >-
        -o UserKnownHostsFile=/dev/null
        -o StrictHostKeyChecking=no
      vars:
        storage_network_ip: 10.255.255.20
  children:
    nfs_servers:
      hosts:
        node1:
    nfs_clients:
      hosts:
        node2:
    nfs_users:
      hosts:
        node1:
        node2:
      vars:
        nfs_share_path: /data
    
    swarm_managers:
      hosts:
        node1:
    swarm_workers:
      hosts:
        node2:
    swarm_users:
      hosts:
        node1:
        node2:
      vars:
        docker_swarm_manager_ip: "{{ node1_ip }}"
        docker_swarm_worker_ip: "{{ node2_ip }}"
        docker_swarm_manager_port: 2377
        docker_swarm_worker_port: 2376
